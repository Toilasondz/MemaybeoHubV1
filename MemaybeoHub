-- Tham chiếu (Reference) các đối tượng UI

-- 1. Nút bấm Mở/Đóng (ToggleBtn)
local toggleButton = script.Parent

-- 2. Khung Menu chính (MenuFrame) - nằm trong cùng ScreenGui
local screenGui = toggleButton.Parent
local menuFrame = screenGui:WaitForChild("MenuFrame")

-- 3. Biến trạng thái để biết menu đang Mở hay Đóng
local isMenuOpen = false

-- ==========================================================

-- Hàm này được gọi mỗi khi người chơi nhấn nút
local function onButtonClicked()
    -- Đảo ngược trạng thái
    isMenuOpen = not isMenuOpen
    
    -- Dựa vào trạng thái mới, ẩn/hiện Frame
    if isMenuOpen then
        -- Mở Menu
        menuFrame.Visible = true
        toggleButton.Text = "Đóng Menu"
        print("Menu đã được MỞ")
    else
        -- Đóng Menu
        menuFrame.Visible = false
        toggleButton.Text = "Mở Menu"
        print("Menu đã bị ĐÓNG")
    end
end

-- Kết nối hàm (function) với sự kiện (event)
-- Khi người chơi nhấn chuột trái vào nút, hàm onButtonClicked sẽ chạy.
toggleButton.MouseButton1Click:Connect(onButtonClicked)
